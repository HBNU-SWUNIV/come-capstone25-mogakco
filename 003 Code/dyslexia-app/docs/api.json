{"openapi":"3.1.0","info":{"title":"Dyslexia API","description":"API for Dyslexia application","version":"1.0.0"},"servers":[{"url":"http://localhost:8084/api","description":"Generated server url"}],"security":[{"bearerAuth":[]}],"tags":[{"name":"GuardianTextbook","description":"보호자 교재 관리 API"},{"name":"Student","description":"학생 관련 API"},{"name":"Kakao","description":"카카오 로그인 관련 API"},{"name":"TextbookStatus","description":"교재 처리 상태 관리 API"},{"name":"GuardianDocument","description":"보호자 문서 관리 API"},{"name":"어휘 분석","description":"교재 내 어휘 분석 결과 조회 API"},{"name":"User","description":"사용자 관련 API"},{"name":"비동기 교안 생성","description":"비동기 교안 생성 및 상태 조회 API"},{"name":"Document","description":"PDF 문서 관리 API"},{"name":"Guardian","description":"보호자 관련 API"},{"name":"StudentTextbook","description":"학생 교재 관리 API"},{"name":"Textbook Content API","description":"교재 컨텐츠 관련 API"}],"paths":{"/vocabulary-analysis/search":{"post":{"tags":["어휘 분석"],"summary":"어휘 분석 결과 검색","description":"문서 ID, 페이지 번호, 블록 ID를 기반으로 어휘 분석 결과를 검색합니다.\n페이지 번호와 블록 ID는 선택적 파라미터입니다.\n","operationId":"searchVocabularyAnalysis","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VocabularyAnalysisSearchRequestDto"}}},"required":true},"responses":{"200":{"description":"검색 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VocabularyAnalysis"}}}}}}},"/v1/documents":{"post":{"tags":["비동기 교안 생성"],"summary":"비동기 교안 생성 요청","description":"PDF 파일을 업로드하여 비동기 교안 생성을 시작합니다.","operationId":"createDocumentAsync","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary","description":"업로드할 PDF 파일"}},"required":["file"]}}}},"responses":{"202":{"description":"교안 생성 요청이 정상적으로 접수됨","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AsyncDocumentCreateResponseDto"}}}},"400":{"description":"잘못된 요청 (파일 없음, 잘못된 형식 등)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AsyncDocumentCreateResponseDto"}}}},"401":{"description":"인증되지 않은 사용자","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AsyncDocumentCreateResponseDto"}}}},"500":{"description":"서버 오류","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AsyncDocumentCreateResponseDto"}}}}}}},"/users/signup/student":{"post":{"tags":["User"],"summary":"학생 회원가입","description":"새로운 학생을 등록합니다.","operationId":"studentSignUp","parameters":[{"name":"code","in":"query","description":"매칭 코드","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentSignUpRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseSignUpResponseDto"}}}}}}},"/users/signup/guardian":{"post":{"tags":["User"],"summary":"보호자 회원가입","description":"새로운 보호자를 등록합니다.","operationId":"guardianSignUp","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GuardianSignUpRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseSignUpResponseDto"}}}}}}},"/textbooks/status/{textbookId}/retry":{"post":{"tags":["TextbookStatus"],"summary":"교재 처리 재시도","description":"실패한 교재의 처리를 재시도합니다.","operationId":"retryConvertProcess","parameters":[{"name":"textbookId","in":"path","description":"교재 ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"재시도 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConvertProcessStatusDto"}}}},"400":{"description":"재시도할 수 없는 상태","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseConvertProcessStatusDto"}}}},"404":{"description":"교재를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseConvertProcessStatusDto"}}}},"500":{"description":"서버 오류","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseConvertProcessStatusDto"}}}}}}},"/student/textbooks/pages/{pageId}/progress":{"post":{"tags":["StudentTextbook"],"summary":"내 페이지 진행 상태 업데이트","description":"현재 인증된 학생의 페이지 학습 진행 상태를 업데이트합니다.","operationId":"updateMyPageProgress","parameters":[{"name":"pageId","in":"path","description":"페이지 ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageProgressUpdateRequestDto"}}},"required":true},"responses":{"200":{"description":"업데이트 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseVoid"}}}},"401":{"description":"인증되지 않은 사용자","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseVoid"}}}},"403":{"description":"페이지에 대한 접근 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseVoid"}}}},"404":{"description":"페이지를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseVoid"}}}},"500":{"description":"서버 오류","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseVoid"}}}}}}},"/student/match":{"post":{"tags":["Student"],"summary":"매칭 코드로 보호자 매칭","description":"현재 인증된 학생이 매칭 코드를 사용하여 보호자와 연결됩니다.","operationId":"matchWithGuardian","parameters":[{"name":"code","in":"query","description":"매칭 코드","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"매칭 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MatchResponseDto"}}}},"401":{"description":"인증되지 않은 사용자","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseMatchResponseDto"}}}},"404":{"description":"매칭 코드에 해당하는 보호자를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseMatchResponseDto"}}}}}}},"/guardian/textbooks/assign":{"post":{"tags":["GuardianTextbook"],"summary":"학생에게 교재 할당","description":"현재 인증된 보호자가 학생에게 교재를 할당합니다.","operationId":"assignTextbook","parameters":[{"name":"studentId","in":"query","description":"학생 ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"textbookId","in":"query","description":"교재 ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"notes","in":"query","description":"할당 메모","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"할당 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseVoid"}}}},"400":{"description":"이미 할당된 교재","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseVoid"}}}},"404":{"description":"학생 또는 교재를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseVoid"}}}},"500":{"description":"서버 오류","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseVoid"}}}}}}},"/documents/upload":{"post":{"tags":["Document"],"summary":"PDF 문서 업로드","description":"보호자가 PDF 문서를 업로드하고 처리를 시작합니다.","operationId":"uploadDocument","parameters":[{"name":"guardianId","in":"query","description":"보호자 ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"title","in":"query","description":"문서 제목","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary","description":"PDF 파일"}},"required":["file"]}}}},"responses":{"200":{"description":"업로드 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentDto"}}}},"400":{"description":"잘못된 요청","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseDocumentDto"}}}},"500":{"description":"서버 오류","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseDocumentDto"}}}}}}},"/document/complete":{"post":{"tags":["Document"],"summary":"문서 처리 완료 콜백","description":"FastAPI가 작업 완료 시 결과 JSON을 전송합니다.","operationId":"complete","parameters":[{"name":"X-Callback-Token","in":"header","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentCompleteRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/v1/documents/{jobId}/status":{"get":{"tags":["비동기 교안 생성"],"summary":"교안 생성 상태 조회","description":"JobId를 통해 교안 생성 작업의 현재 상태와 진행률을 조회합니다.","operationId":"getDocumentStatus","parameters":[{"name":"jobId","in":"path","description":"작업 ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"상태 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentProcessingStatusDto"}}}},"404":{"description":"해당 JobId를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentProcessingStatusDto"}}}},"401":{"description":"인증되지 않은 사용자","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentProcessingStatusDto"}}}}}}},"/users/me":{"get":{"tags":["User"],"summary":"내 정보 조회","description":"인증된 사용자의 정보를 조회합니다.","operationId":"getMyInfo","responses":{"200":{"description":"내 정보 조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserInfoDto"}}}}}}},"/textbooks/status/{textbookId}":{"get":{"tags":["TextbookStatus"],"summary":"교재 처리 상태 조회","description":"교재의 처리 상태와 진행도를 조회합니다.","operationId":"getConvertStatus","parameters":[{"name":"textbookId","in":"path","description":"교재 ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConvertProcessStatusDto"}}}},"404":{"description":"교재를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseConvertProcessStatusDto"}}}},"500":{"description":"서버 오류","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseConvertProcessStatusDto"}}}}}}},"/textbooks/pages":{"get":{"tags":["Textbook Content API"],"summary":"교재 페이지 조회","description":"교재 ID 기반으로 생성된 콘텐츠 JSON(page)를 조회합니다. 페이지 번호를 지정하면 특정 페이지만 조회합니다.\n\nBlock 구조 예시:\n[\n  {\"id\":\"1\",\"type\":\"HEADING1\",\"text\":\"챕터 제목\"},\n  {\"id\":\"2\",\"type\":\"TEXT\",\"text\":\"본문\"},\n  {\"id\":\"3\",\"type\":\"LIST\",\"items\":[\"항목1\",\"항목2\"]}\n]\n","operationId":"findPageByTextbook","parameters":[{"name":"textbookId","in":"query","description":"문서 ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"page","in":"query","description":"페이지 번호 (선택사항)","required":false,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"페이지 목록 조회 성공","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PageContentResponseDto"}}}}}}}},"/textbooks/pages/{pageId}/tips":{"get":{"tags":["Textbook Content API"],"summary":"페이지 팁 조회","description":"페이지 ID 기반으로 해당 페이지의 팁을 조회합니다.","operationId":"findPageTipsByPage","parameters":[{"name":"pageId","in":"path","description":"페이지 ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"페이지 팁 목록 조회 성공","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PageTipResponseDto"}}}}}}}},"/student/textbooks":{"get":{"tags":["StudentTextbook"],"summary":"내 할당된 교재 목록 조회","description":"현재 인증된 학생에게 할당된 모든 교재 목록을 조회합니다.","operationId":"getMyAssignedTextbooks","responses":{"200":{"description":"조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TextbookDto"}}}},"401":{"description":"인증되지 않은 사용자","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseListTextbookDto"}}}},"500":{"description":"서버 오류","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseListTextbookDto"}}}}}}},"/student/textbooks/{textbookId}/pages":{"get":{"tags":["StudentTextbook"],"summary":"내 교재 페이지 목록 조회","description":"현재 인증된 학생의 특정 교재의 모든 페이지 정보를 조회합니다.","operationId":"getMyTextbookPages","parameters":[{"name":"textbookId","in":"path","description":"교재 ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageDto"}}}},"401":{"description":"인증되지 않은 사용자","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseListPageDto"}}}},"403":{"description":"교재에 대한 접근 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseListPageDto"}}}},"404":{"description":"교재를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseListPageDto"}}}},"500":{"description":"서버 오류","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseListPageDto"}}}}}}},"/student/textbooks/pages/{pageId}":{"get":{"tags":["StudentTextbook"],"summary":"내 페이지 상세 조회","description":"현재 인증된 학생의 특정 페이지의 상세 내용과 팁, 이미지를 조회합니다.","operationId":"getMyPageDetail","parameters":[{"name":"pageId","in":"path","description":"페이지 ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponsePageDetailResponseDto"}}}},"401":{"description":"인증되지 않은 사용자","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponsePageDetailResponseDto"}}}},"403":{"description":"페이지에 대한 접근 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponsePageDetailResponseDto"}}}},"404":{"description":"페이지를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponsePageDetailResponseDto"}}}},"500":{"description":"서버 오류","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponsePageDetailResponseDto"}}}}}}},"/student/me":{"get":{"tags":["Student"],"summary":"내 정보 조회","description":"현재 인증된 학생의 정보를 조회합니다.","operationId":"getMyInfo_1","responses":{"200":{"description":"조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentDto"}}}},"401":{"description":"인증되지 않은 사용자","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseStudentDto"}}}}}}},"/student/guardian":{"get":{"tags":["Student"],"summary":"내 보호자 정보 조회","description":"현재 인증된 학생의 보호자 정보를 조회합니다.","operationId":"getMyGuardian","responses":{"200":{"description":"조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GuardianDto"}}}},"401":{"description":"인증되지 않은 사용자","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseGuardianDto"}}}},"404":{"description":"연결된 보호자가 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseGuardianDto"}}}}}}},"/kakao/callback":{"get":{"tags":["Kakao"],"summary":"카카오 로그인 콜백","description":"카카오 로그인 후 리다이렉트되는 콜백 URL입니다.","operationId":"kakaoCallback","parameters":[{"name":"code","in":"query","description":"카카오 인가 코드","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"로그인 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponseDto","description":"로그인 응답 데이터\n- registered: 회원가입 여부\n- clientId: 카카오 ID\n- nickname: 카카오 닉네임\n- userType: 사용자 타입 (STUDENT/GUARDIAN/UNREGISTERED)\n- accessToken: JWT 액세스 토큰 (회원가입된 경우에만)\n- refreshToken: JWT 리프레시 토큰 (회원가입된 경우에만)\n"}}}}}}},"/guardian/textbooks":{"get":{"tags":["GuardianTextbook"],"summary":"내 교재 목록 조회","description":"현재 인증된 보호자가 업로드한 모든 교재 목록을 조회합니다.","operationId":"getMyTextbooks","responses":{"200":{"description":"조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TextbookDto"}}}},"401":{"description":"인증되지 않은 사용자","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseListTextbookDto"}}}},"500":{"description":"서버 오류","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseListTextbookDto"}}}}}}},"/guardian/textbooks/assigned/{studentId}":{"get":{"tags":["GuardianTextbook"],"summary":"학생별 할당 교재 목록 조회","description":"현재 인증된 보호자가 특정 학생에게 할당한 교재 목록을 조회합니다.","operationId":"getAssignedTextbooks","parameters":[{"name":"studentId","in":"path","description":"학생 ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TextbookDto"}}}},"404":{"description":"학생을 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseListTextbookDto"}}}},"500":{"description":"서버 오류","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseListTextbookDto"}}}}}}},"/guardian/students":{"get":{"tags":["Guardian"],"summary":"내 담당 학생 목록 조회","description":"현재 인증된 보호자의 담당 학생 목록을 조회합니다.","operationId":"getMyStudents","responses":{"200":{"description":"조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentDto"}}}},"401":{"description":"인증되지 않은 사용자","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseListStudentDto"}}}}}}},"/guardian/me":{"get":{"tags":["Guardian"],"summary":"내 정보 조회","description":"현재 인증된 보호자의 정보를 조회합니다.","operationId":"getMyInfo_2","responses":{"200":{"description":"조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GuardianDto"}}}},"401":{"description":"인증되지 않은 사용자","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseGuardianDto"}}}}}}},"/guardian/documents":{"get":{"tags":["GuardianDocument"],"summary":"내 문서 목록 조회","description":"현재 인증된 보호자가 업로드한 모든 문서 목록을 조회합니다.","operationId":"getMyDocuments","responses":{"200":{"description":"조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentDto"}}}},"401":{"description":"인증되지 않은 사용자","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseListDocumentDto"}}}},"500":{"description":"서버 오류","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseListDocumentDto"}}}}}}},"/guardian/documents/{documentId}/pages":{"get":{"tags":["GuardianDocument"],"summary":"내 문서 페이지 조회","description":"문서 ID로 페이지 콘텐츠(JSON)를 조회합니다. page를 지정하면 특정 페이지만 반환합니다.","operationId":"getMyDocumentPages","parameters":[{"name":"documentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageContentResponseDto"}}}},"401":{"description":"인증되지 않은 사용자","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseListPageContentResponseDto"}}}},"403":{"description":"문서 접근 권한 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseListPageContentResponseDto"}}}},"404":{"description":"문서를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseListPageContentResponseDto"}}}},"500":{"description":"서버 오류","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseListPageContentResponseDto"}}}}}}},"/guardian/code":{"get":{"tags":["Guardian"],"summary":"내 매칭 코드 조회","description":"현재 인증된 보호자의 매칭 코드를 조회합니다.","operationId":"getMyCode","responses":{"200":{"description":"조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GuardianCodeDto"}}}},"401":{"description":"인증되지 않은 사용자","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseGuardianCodeDto"}}}}}}},"/guardian/textbooks/assign/{studentId}/{textbookId}":{"delete":{"tags":["GuardianTextbook"],"summary":"학생 교재 할당 취소","description":"현재 인증된 보호자가 학생에게 할당한 교재를 취소합니다.","operationId":"unassignTextbook","parameters":[{"name":"studentId","in":"path","description":"학생 ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"textbookId","in":"path","description":"교재 ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"취소 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseVoid"}}}},"403":{"description":"권한 없음 (본인이 할당한 교재가 아님)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseVoid"}}}},"404":{"description":"할당 정보를 찾을 수 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseVoid"}}}},"500":{"description":"서버 오류","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseVoid"}}}}}}}},"components":{"schemas":{"VocabularyAnalysisSearchRequestDto":{"type":"object","description":"검색 조건","properties":{"textbookId":{"type":"integer","format":"int64"},"pageNumber":{"type":"integer","format":"int32"},"blockId":{"type":"string"}}},"VocabularyAnalysis":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"textbookId":{"type":"integer","format":"int64"},"pageNumber":{"type":"integer","format":"int32"},"blockId":{"type":"string"},"word":{"type":"string"},"startIndex":{"type":"integer","format":"int32"},"endIndex":{"type":"integer","format":"int32"},"definition":{"type":"string"},"simplifiedDefinition":{"type":"string"},"examples":{"type":"string"},"difficultyLevel":{"type":"string"},"reason":{"type":"string"},"gradeLevel":{"type":"integer","format":"int32"},"phonemeAnalysisJson":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"AsyncDocumentCreateResponseDto":{"type":"object","properties":{"jobId":{"type":"string"},"message":{"type":"string"}}},"StudentSignUpRequestDto":{"type":"object","properties":{"clientId":{"type":"string"},"name":{"type":"string"},"grade":{"type":"string","enum":["GRADE_1","GRADE_2","GRADE_3","GRADE_4","GRADE_5","GRADE_6"]},"interests":{"type":"array","items":{"type":"integer","format":"int64"}}}},"CommonResponseSignUpResponseDto":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/SignUpResponseDto"}}},"SignUpResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"userType":{"type":"string","enum":["STUDENT","GUARDIAN","UNREGISTERED"]},"accessToken":{"type":"string"},"refreshToken":{"type":"string"}}},"GuardianSignUpRequestDto":{"type":"object","properties":{"clientId":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"guardianRole":{"type":"string","enum":["PARENT","SCHOOL_TEACHER","PERSONAL_TUTOR"]},"organization":{"type":"string"}}},"ConvertProcessStatusDto":{"type":"object","description":"교재 처리 상태 응답 DTO","properties":{"textbookId":{"type":"integer","format":"int64","description":"교재 ID","example":1},"status":{"type":"string","description":"처리 상태","enum":["PENDING","PROCESSING","COMPLETED","FAILED"],"example":"PROCESSING"},"progress":{"type":"integer","format":"int32","description":"처리 진행도 (0-100)","example":65}}},"CommonResponseConvertProcessStatusDto":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/ConvertProcessStatusDto"}}},"PageProgressUpdateRequestDto":{"type":"object","description":"페이지 진행 상태 업데이트 요청 DTO","properties":{"pageId":{"type":"integer","format":"int64","description":"페이지 ID","example":1},"studentId":{"type":"integer","format":"int64","description":"학생 ID","example":1},"timeSpentSeconds":{"type":"integer","format":"int32","description":"진행 시간(초)","example":300},"completionStatus":{"type":"string","description":"완료 상태","enum":["NOT_STARTED","IN_PROGRESS","COMPLETED"],"example":"COMPLETED"},"retryCount":{"type":"integer","format":"int32","description":"재시도 횟수","example":2},"usedTipIds":{"type":"array","description":"사용된 팁 ID 목록","example":[1,2,3],"items":{"type":"integer","format":"int64"}},"comprehensionScore":{"type":"integer","format":"int32","description":"이해도 점수 (0-100)","example":85},"notes":{"type":"string","description":"메모","example":"어려운 개념들이 많아서 시간이 오래 걸렸습니다."}}},"CommonResponseVoid":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"type":"object"}}},"MatchResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"organization":{"type":"string"},"profileImageUrl":{"type":"string"},"matchCode":{"type":"string"}}},"CommonResponseMatchResponseDto":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/MatchResponseDto"}}},"DocumentDto":{"type":"object","description":"문서 정보 DTO","properties":{"id":{"type":"integer","format":"int64","description":"문서 ID","example":1},"guardianId":{"type":"integer","format":"int64","description":"보호자 ID","example":1},"title":{"type":"string","description":"문서 제목","example":"생태계와 환경"},"originalFilename":{"type":"string","description":"원본 파일명","example":"ecology_and_environment.pdf"},"fileSize":{"type":"integer","format":"int64","description":"파일 크기(바이트)","example":1024000},"uploadedAt":{"type":"string","format":"date-time","description":"업로드 시간"}}},"CommonResponseDocumentDto":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/DocumentDto"}}},"DocumentCompleteRequestDto":{"type":"object","properties":{"jobId":{"type":"string","maxLength":200,"minLength":1},"pdfName":{"type":"string","maxLength":500,"minLength":1},"data":{"$ref":"#/components/schemas/JsonNode"}},"required":["data"]},"JsonNode":{"type":"object"},"DocumentProcessingStatusDto":{"type":"object","properties":{"jobId":{"type":"string"},"fileName":{"type":"string"},"status":{"type":"string","enum":["PENDING","PROCESSING","COMPLETED","FAILED"]},"progress":{"type":"integer","format":"int32"},"errorMessage":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"completedAt":{"type":"string","format":"date-time"}}},"UserInfoDto":{"type":"object","description":"사용자 정보 응답 DTO","properties":{"name":{"type":"string","description":"사용자 닉네임","example":"홍길동"},"id":{"type":"integer","format":"int64","description":"사용자 ID","example":1},"clientId":{"type":"string","description":"카카오 ID","example":123456789},"userType":{"type":"string","description":"사용자 타입","enum":["STUDENT","GUARDIAN","UNREGISTERED"],"example":"STUDENT"}}},"Block":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string","enum":["TEXT","HEADING1","HEADING2","HEADING3","LIST","DOTTED","IMAGE","TABLE","PAGE_TIP","PAGE_IMAGE"]}}},"PageContentResponseDto":{"type":"object","description":"페이지 콘텐츠 응답","properties":{"id":{"type":"integer","format":"int64","description":"페이지 ID"},"textbookId":{"type":"integer","format":"int64","description":"교재 ID"},"pageNumber":{"type":"integer","format":"int32","description":"페이지 번호"},"originalContent":{"type":"string","description":"원본 콘텐츠"},"processedContent":{"$ref":"#/components/schemas/JsonNode","description":"처리된 콘텐츠 (JSON)"},"processingStatus":{"type":"string","description":"처리 상태","enum":["PENDING","PROCESSING","COMPLETED","FAILED"],"example":"COMPLETED"},"sectionTitle":{"type":"string","description":"섹션 제목"},"readingLevel":{"type":"integer","format":"int32","description":"읽기 레벨"},"wordCount":{"type":"integer","format":"int32","description":"단어 수"},"complexityScore":{"type":"number","format":"float","description":"복잡도 점수"},"createdAt":{"type":"string","format":"date-time","description":"생성 시간"},"updatedAt":{"type":"string","format":"date-time","description":"수정 시간"},"blocks":{"type":"array","description":"Block 구조화 데이터. type: HEADING1, TEXT, LIST, IMAGE, TABLE, PAGE_TIP, PAGE_IMAGE 등. 예시: [ {\"id\":\"1\",\"type\":\"HEADING1\",\"text\":\"챕터 제목\"}, {\"id\":\"2\",\"type\":\"TEXT\",\"text\":\"본문\"}, {\"id\":\"3\",\"type\":\"LIST\",\"items\":[\"항목1\",\"항목2\"]} ]","example":[{"id":"1","type":"HEADING1","text":"챕터 제목"},{"id":"2","type":"TEXT","text":"본문"},{"id":"3","type":"LIST","items":["항목1","항목2"]}],"items":{"$ref":"#/components/schemas/Block"}}}},"PageTipResponseDto":{"type":"object","description":"페이지 팁 응답","properties":{"id":{"type":"integer","format":"int64","description":"팁 ID"},"pageId":{"type":"integer","format":"int64","description":"페이지 ID"},"term":{"type":"string","description":"용어"},"simplifiedExplanation":{"type":"string","description":"간소화된 설명"},"termPosition":{"$ref":"#/components/schemas/JsonNode","description":"용어 위치 정보 (JSON)"},"termType":{"type":"string","description":"용어 타입","enum":["DIFFICULT_WORD","COMPLEX_CONCEPT","ABSTRACT_IDEA","TECHNICAL_TERM"],"example":"VOCABULARY"},"visualAidNeeded":{"type":"boolean","description":"시각적 보조 필요 여부"},"readAloudText":{"type":"string","description":"읽기 텍스트"},"createdAt":{"type":"string","format":"date-time","description":"생성 시간"},"updatedAt":{"type":"string","format":"date-time","description":"수정 시간"}}},"TextbookDto":{"type":"object","description":"문서 정보 DTO","properties":{"id":{"type":"integer","format":"int64","description":"교재 ID","example":1},"guardianId":{"type":"integer","format":"int64","description":"보호자 ID","example":1},"title":{"type":"string","description":"교재 제목","example":"생태계와 환경"},"pageCount":{"type":"integer","format":"int32","description":"페이지 수","example":1},"learnRate":{"type":"integer","format":"int32","description":"학습 진행률","example":20},"convertProcessStatus":{"type":"string","description":"처리 상태","enum":["PENDING","PROCESSING","COMPLETED","FAILED"],"example":"PROCESSING"},"createdAt":{"type":"string","format":"date-time","description":"생성 시간"},"updatedAt":{"type":"string","format":"date-time","description":"업데이트 시간"}}},"CommonResponseListTextbookDto":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"type":"array","items":{"$ref":"#/components/schemas/TextbookDto"}}}},"PageDto":{"type":"object","description":"페이지 정보 DTO","properties":{"id":{"type":"integer","format":"int64","description":"페이지 ID","example":1},"textbookId":{"type":"integer","format":"int64","description":"교재 ID","example":1},"pageNumber":{"type":"integer","format":"int32","description":"페이지 번호","example":1},"sectionTitle":{"type":"string","description":"섹션 제목","example":"생태계의 구성 요소"},"readingLevel":{"type":"integer","format":"int32","description":"읽기 난이도 (1-10)","example":5},"wordCount":{"type":"integer","format":"int32","description":"단어 수","example":250},"complexityScore":{"type":"number","format":"float","description":"복잡도 점수 (0.0-1.0)","example":0.6},"processingStatus":{"type":"string","description":"처리 상태","enum":["PENDING","PROCESSING","COMPLETED","FAILED"],"example":"COMPLETED"},"createdAt":{"type":"string","format":"date-time","description":"생성 시간"},"updatedAt":{"type":"string","format":"date-time","description":"수정 시간"}}},"CommonResponseListPageDto":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"type":"array","items":{"$ref":"#/components/schemas/PageDto"}}}},"CommonResponsePageDetailResponseDto":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/PageDetailResponseDto"}}},"Document":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"guardian":{"$ref":"#/components/schemas/Guardian"},"title":{"type":"string"},"originalFilename":{"type":"string"},"filePath":{"type":"string"},"fileSize":{"type":"integer","format":"int64"},"mimeType":{"type":"string"},"uploadedAt":{"type":"string","format":"date-time"},"metadata":{"type":"string"},"jobId":{"type":"string"},"processingStatus":{"type":"string","enum":["PENDING","PROCESSING","COMPLETED","FAILED"]},"progress":{"type":"integer","format":"int32"},"errorMessage":{"type":"string"},"completedAt":{"type":"string","format":"date-time"}}},"Guardian":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"clientId":{"type":"string"},"name":{"type":"string"},"organization":{"type":"string"},"email":{"type":"string"},"profileImageUrl":{"type":"string"},"guardianRole":{"type":"string","enum":["PARENT","SCHOOL_TEACHER","PERSONAL_TUTOR"]},"matchCode":{"type":"string"},"students":{"type":"array","items":{"$ref":"#/components/schemas/Student"}}}},"Interest":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"}}},"Page":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"textbook":{"$ref":"#/components/schemas/Textbook"},"pageNumber":{"type":"integer","format":"int32"},"originalContent":{"type":"string"},"processedContent":{"$ref":"#/components/schemas/JsonNode"},"processingStatus":{"type":"string","enum":["PENDING","PROCESSING","COMPLETED","FAILED"]},"sectionTitle":{"type":"string"},"readingLevel":{"type":"integer","format":"int32"},"wordCount":{"type":"integer","format":"int32"},"complexityScore":{"type":"number","format":"float"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"pageTips":{"type":"array","items":{"$ref":"#/components/schemas/PageTip"}},"pageImages":{"type":"array","items":{"$ref":"#/components/schemas/PageImage"}}}},"PageDetailResponseDto":{"type":"object","description":"페이지 상세 정보 응답 DTO","properties":{"page":{"$ref":"#/components/schemas/Page","description":"페이지 정보"},"tips":{"type":"array","description":"페이지 팁 목록","items":{"$ref":"#/components/schemas/PageTip"}},"images":{"type":"array","description":"페이지 이미지 목록","items":{"$ref":"#/components/schemas/PageImage"}},"progress":{"$ref":"#/components/schemas/StudentPageProgress","description":"학생의 페이지 진행 상태"}}},"PageImage":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"page":{"$ref":"#/components/schemas/Page"},"imageUrl":{"type":"string"},"imageType":{"type":"string","enum":["CONCEPT_VISUALIZATION","DIAGRAM","COMPARISON_CHART","EXAMPLE_ILLUSTRATION"]},"conceptReference":{"type":"string"},"altText":{"type":"string"},"positionInPage":{"$ref":"#/components/schemas/JsonNode"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"PageTip":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"page":{"$ref":"#/components/schemas/Page"},"term":{"type":"string"},"simplifiedExplanation":{"type":"string"},"termPosition":{"$ref":"#/components/schemas/JsonNode"},"termType":{"type":"string","enum":["DIFFICULT_WORD","COMPLEX_CONCEPT","ABSTRACT_IDEA","TECHNICAL_TERM"]},"visualAidNeeded":{"type":"boolean"},"readAloudText":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"Student":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"clientId":{"type":"string"},"name":{"type":"string"},"guardian":{"$ref":"#/components/schemas/Guardian"},"grade":{"type":"string","enum":["GRADE_1","GRADE_2","GRADE_3","GRADE_4","GRADE_5","GRADE_6"]},"type":{"type":"string"},"state":{"type":"string"},"profileImageUrl":{"type":"string"},"defaultFontSize":{"type":"integer","format":"int32"},"defaultLineSpacing":{"type":"number","format":"float"},"defaultLetterSpacing":{"type":"number","format":"float"},"defaultColorScheme":{"type":"string","enum":["LIGHT","DARK","SEPIA","CUSTOM"]},"defaultTextToSpeechEnabled":{"type":"boolean"},"defaultReadingHighlightEnabled":{"type":"boolean"},"defaultBackgroundColor":{"type":"string"},"defaultTextColor":{"type":"string"},"interests":{"type":"array","items":{"$ref":"#/components/schemas/Interest"}}}},"StudentPageProgress":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"student":{"$ref":"#/components/schemas/Student"},"page":{"$ref":"#/components/schemas/Page"},"isCompleted":{"type":"boolean"},"completionStatus":{"type":"string","enum":["NOT_STARTED","IN_PROGRESS","COMPLETED"]},"timeSpentSeconds":{"type":"integer","format":"int32"},"retryCount":{"type":"integer","format":"int32"},"comprehensionScore":{"type":"integer","format":"int32"},"usedTipIds":{"type":"string"},"lastAccessedAt":{"type":"string","format":"date-time"},"difficultyRating":{"type":"integer","format":"int32"},"notes":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"Textbook":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"document":{"$ref":"#/components/schemas/Document"},"guardian":{"$ref":"#/components/schemas/Guardian"},"title":{"type":"string"},"pageCount":{"type":"integer","format":"int32"},"learnRate":{"type":"integer","format":"int32"},"convertProcessStatus":{"type":"string","enum":["PENDING","PROCESSING","COMPLETED","FAILED"]},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"pages":{"type":"array","items":{"$ref":"#/components/schemas/Page"}}}},"StudentDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"clientId":{"type":"string"},"name":{"type":"string"},"guardianId":{"type":"integer","format":"int64"},"grade":{"type":"string","enum":["GRADE_1","GRADE_2","GRADE_3","GRADE_4","GRADE_5","GRADE_6"]},"type":{"type":"string"},"state":{"type":"boolean"},"profileImageUrl":{"type":"string"},"interests":{"type":"array","items":{"type":"string"}}}},"CommonResponseStudentDto":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/StudentDto"}}},"GuardianDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"clientId":{"type":"string"},"name":{"type":"string"},"organization":{"type":"string"},"profileImageUrl":{"type":"string"}}},"CommonResponseGuardianDto":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/GuardianDto"}}},"AuthResponseDto":{"type":"object","properties":{"registered":{"type":"boolean"},"clientId":{"type":"string"},"nickname":{"type":"string"},"userType":{"type":"string"},"accessToken":{"type":"string"},"refreshToken":{"type":"string"}}},"CommonResponseListStudentDto":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"type":"array","items":{"$ref":"#/components/schemas/StudentDto"}}}},"CommonResponseListDocumentDto":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"type":"array","items":{"$ref":"#/components/schemas/DocumentDto"}}}},"CommonResponseListPageContentResponseDto":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"type":"array","items":{"$ref":"#/components/schemas/PageContentResponseDto"}}}},"GuardianCodeDto":{"type":"object","properties":{"matchCode":{"type":"string"}}},"CommonResponseGuardianCodeDto":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/GuardianCodeDto"}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}