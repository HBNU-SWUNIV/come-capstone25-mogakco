{
  "openapi": "3.1.0",
  "info": {
    "title": "Dyslexia API - Teacher Documents",
    "version": "1.0.0",
    "description": "선생님이 생성 요청한 교안 목록 조회 API"
  },
  "tags": [
    { "name": "TeacherDocument", "description": "선생님 문서 관리 API" }
  ],
  "paths": {
    "/teacher/documents/{teacherId}": {
      "get": {
        "tags": ["TeacherDocument"],
        "summary": "교안 생성 요청 목록 조회",
        "description": "선생님이 생성 요청한 교안(텍스트북) 목록을 조회합니다.",
        "operationId": "getTeacherDocumentsSummary",
        "parameters": [
          {
            "name": "teacherId",
            "in": "path",
            "required": true,
            "description": "선생님 ID",
            "schema": { "type": "integer", "format": "int64" }
          }
        ],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TeacherDocumentSummaryListResponseDto"
                },
                "examples": {
                  "success": {
                    "summary": "성공 예시",
                    "value": {
                      "success": true,
                      "message": "조회 성공",
                      "documents": [
                        {
                          "textbookId": 101,
                          "title": "우리 동네 동물들",
                          "createdAt": "2025-09-18T09:00:00Z",
                          "status": "CREATED",
                          "thumbnailUrl": null,
                          "assignedStudentsCount": 2
                        },
                        {
                          "textbookId": 102,
                          "title": "우주 탐험 이야기",
                          "createdAt": "2025-09-18T10:10:00Z",
                          "status": "CREATING",
                          "thumbnailUrl": null,
                          "assignedStudentsCount": 0
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "TeacherDocumentSummaryListResponseDto": {
        "type": "object",
        "description": "교안 목록 조회 응답",
        "properties": {
          "success": { "type": "boolean" },
          "message": { "type": "string" },
          "documents": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/TeacherDocumentSummaryDto" }
          }
        },
        "required": ["success", "message", "documents"]
      },
      "TeacherDocumentSummaryDto": {
        "type": "object",
        "description": "교안(텍스트북) 요약 정보",
        "properties": {
          "textbookId": { "type": "integer", "format": "int64", "description": "교재 ID" },
          "title": { "type": "string", "description": "교재 이름" },
          "createdAt": { "type": "string", "format": "date-time", "description": "생성일자" },
          "status": {
            "type": "string",
            "description": "상태 (생성중/실패/생성됨)",
            "enum": ["CREATING", "FAILED", "CREATED"]
          },
          "thumbnailUrl": { "type": "string", "nullable": true, "description": "썸네일 이미지 URL (기획상 비어있음)" },
          "assignedStudentsCount": { "type": "integer", "format": "int32", "description": "배정된 학생 수" }
        },
        "required": ["textbookId", "title", "createdAt", "status", "assignedStudentsCount"]
      }
    }
  }
}

