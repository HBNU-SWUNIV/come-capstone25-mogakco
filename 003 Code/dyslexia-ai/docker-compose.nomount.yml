services:
  app:
    build: .
    container_name: dyslexia-ai-app
    restart: unless-stopped
    env_file:
      - .env
    ports:
      - "10300:10300"
    # No host bind mounts; use named volumes
    volumes:
      - dyslexia_temp:/app/temp
      - dyslexia_output:/app/output
    # Disable --reload when not bind mounting (keeps container lean)
    command: ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "10300"]

volumes:
  dyslexia_temp:
  dyslexia_output:
